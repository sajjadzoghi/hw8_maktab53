-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE public.Season
(
    season_id SERIAL PRIMARY KEY,
    "year" year NOT NULL UNIQUE,
    number_of_teams integer NOT NULL
);

CREATE TABLE public.Team
(
    team_id SERIAL PRIMARY KEY,
    "name" character varying NOT NULL UNIQUE
);

CREATE TABLE public.Season_Team
(
    season_id SERIAL PRIMARY KEY,
    team_id SERIAL PRIMARY KEY,
    team_rank smallint NOT NULL,
    team_points smallint NOT NULL,
    FOREIGN KEY (season_id) REFERENCES Season(season_id),
	FOREIGN KEY (team_id) REFERENCES dataflair(team_id)
);

CREATE TABLE public.Player
(
    player_id SERIAL PRIMARY KEY,
    firstname character varying(50) NOT NULL,
    lastname character varying(50) NOT NULL,
    date_of_birth character varying(50) NOT NULL,
    playing_position character varying(50) NOT NULL
);

CREATE TABLE public.Player_Contract
(
    team_id SERIAL PRIMARY KEY,
    player_id SERIAL PRIMARY KEY,
    season_years character varying NOT NULL,
    salary numeric(10, 2) NOT NULL,
    FOREIGN KEY (team_id) REFERENCES Team(team_id),
	FOREIGN KEY (player_id) REFERENCES Player(player_id)
);

CREATE TABLE public.Game
(
    game_id SERIAL PRIMARY KEY,
    home_team_id integer NOT NULL,
    away_team_id integer NOT NULL,
	FOREIGN KEY (home_team_id) REFERENCES Team(team_id),
	FOREIGN KEY (away_team_id) REFERENCES Team(team_id)
);

CREATE TABLE public.Game_Season
(
    game_id SERIAL PRIMARY KEY,
    season_id SERIAL PRIMARY KEY,
    date date NOT NULL,
    final_result character varying(200) NOT NULL,
	FOREIGN KEY (game_id) REFERENCES Game(game_id),
	FOREIGN KEY (season_id) REFERENCES Season(season_id)
);


END;